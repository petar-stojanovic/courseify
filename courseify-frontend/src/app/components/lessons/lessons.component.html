<div class="container">
  <div class="row mt-4">
    <div class="col-6">
      <mat-accordion>
        <mat-expansion-panel
          hideToggle
          *ngFor="let lesson of lessons"
          class="d-flex flex-column"
        >
          <mat-expansion-panel-header>
            <mat-panel-title>{{ lesson.title }}</mat-panel-title>
            <mat-panel-description>
              {{ lesson.description }}
            </mat-panel-description>
          </mat-expansion-panel-header>
          <a
            routerLink="/course/{{ lesson.course.id }}/lessons/{{
              lesson.id
            }}/video"
            >{{ lesson.videoTitle }}</a
          >
          <a>
            <p mat-raised-button (click)="openFile(lesson.id)">
              {{ lesson.fileTitle }}
            </p>
          </a>

          <div *ngIf="user?.id == lesson.course.author.id">
            <a
              routerLink="/course/{{ lesson.course.id }}/lessons/{{
                lesson.id
              }}/edit"
              ><button mat-icon-button color="primary">
                <mat-icon>edit</mat-icon>
              </button></a
            >
            <button
              mat-icon-button
              color="primary"
              (click)="deleteLesson(lesson.id)"
            >
              <mat-icon>delete_outline</mat-icon>
            </button>
          </div>
        </mat-expansion-panel>
      </mat-accordion>

      <a
        *ngIf="user?.id == course?.author?.id"
        routerLink="/course/{{ course?.id }}/lessons/add"
        ><button mat-raised-button color="primary" class="w-100">Add Lesson</button></a
      >
    </div>
    <div class="col-6">
      <app-thumbnail
        [courseId]="course!!.id"
        thumbnail_class="thumbnail"
      ></app-thumbnail>
      <div class="display-5 my-3 text-center">{{ course?.title }}</div>
      <button
        *ngIf="course?.author?.id != user?.id"
        mat-raised-button
        color="primary"
        (click)="enrollStudent(course!!.id)"
        class="w-100"
      >
        Enroll
      </button>
    </div>
  </div>
</div>
